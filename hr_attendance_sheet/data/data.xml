<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>


        <!--        <record id="structure_type_attendance_sheet"-->
        <!--                model="hr.payroll.structure.type">-->
        <!--            <field name="name">Attendance Sheet</field>-->
        <!--            <field name="country_id" eval="False"/>-->
        <!--        </record>-->


        <record id="structure_attendance_sheet" model="hr.payroll.structure">
            <field name="name">Attendance Sheet Salary Structure</field>
            <field name="code">ATTSHEET</field>
            <!--            <field name="type_id" ref="structure_type_attendance_sheet"/>-->
            <!--            <field name="regular_pay" eval="True"/>-->
            <!--            <field name="country_id" eval="False"/>-->
        </record>

        <record id="holiday_status_per" model="hr.leave.type">
            <field name="name">Permission</field>
            <field name="allocation_type">fixed</field>
            <field name="color_name">lightgreen</field>
            <field name="request_unit">hour</field>
            <field name="validation_type">both</field>
        </record>


        <record id="paperformat_attendance_sheet" model="report.paperformat">
            <field name="name">attendance sheet</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="page_height">297</field>
            <field name="page_width">210</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">40</field>
            <field name="margin_bottom">15</field>
            <field name="margin_left">5</field>
            <field name="margin_right">5</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">35</field>
            <field name="dpi">90</field>
        </record>


        <!-- Hr Salary Rules for Absence Deduction-->
        <record id="hr_salary_rule_att_absence" model="hr.salary.rule">
            <field name="code">ABS</field>
            <field name="sequence" eval="110"/>
            <field name="name">Absence</field>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.ABS and worked_days.ABS.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -(worked_days.ABS.number_of_hours * (contract.wage / (9*26)))
            </field>
            <field name="sequence" eval="60"/>
            <field name="note">deduction of absence days</field>
        </record>
        <record id="hr_salary_rule_att_late" model="hr.salary.rule">
            <field name="code">LATE</field>
            <field name="name">Late In</field>
            <field name="sequence" eval="111"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.LATE and worked_days.LATE.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -worked_days.LATE.number_of_hours * contract.wage / (9*26)
            </field>
            <field name="sequence" eval="65"/>
            <field name="note">deduction of late in</field>
        </record>
        <record id="hr_salary_rule_att_diff" model="hr.salary.rule">
            <field name="code">DIFF</field>
            <field name="name">Difference time</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.DIFFT and worked_days.DIFFT.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -worked_days.DIFFT.number_of_hours * contract.wage / (9*26)
            </field>
            <field name="sequence" eval="70"/>
            <field name="note">deduction of Difference time</field>
        </record>
        <record id="hr_salary_rule_att_overtime" model="hr.salary.rule">
            <field name="code">OVT</field>
            <field name="name">overtime</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.OVT and worked_days.OVT.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = (contract.wage / (9*26)) * worked_days.OVT.number_of_hours
            </field>
            <field name="sequence" eval="30"/>
            <field name="note">Over time</field>
        </record>

        <!-- TODO Saber deductions salary rules #####################################################################################################-->
        <record id="hr_salary_rule_att_bonus_request" model="hr.salary.rule">
            <field name="code">BONUS</field>
            <field name="name">bonus</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.BONUS and worked_days.BONUS.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = worked_days.BONUS.number_of_hours</field>
            <field name="sequence" eval="30"/>
            <field name="note">Bonus</field>
        </record>
        <record id="hr_salary_rule_att_penalty" model="hr.salary.rule">
            <field name="code">PENALTY</field>
            <field name="name">penalty</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.PENALTY and worked_days.PENALTY.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result =-(worked_days.PENALTY.number_of_hours)</field>
            <field name="sequence" eval="70"/>
            <field name="note">Penalty</field>
        </record>
        <record id="hr_salary_rule_att_general_deductions" model="hr.salary.rule">
            <field name="code">GENDED</field>
            <field name="name">generaldeductions</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.GENDED and worked_days.GENDED.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -contract.general_deductions</field>
            <field name="sequence" eval="70"/>
            <field name="note">General Deductions</field>
        </record>
        <record id="hr_salary_rule_att_social_insurance_deductions" model="hr.salary.rule">
            <field name="code">SOCIALINSDED</field>
            <field name="name">socialinsuductionsalded</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.SOCIALINSDED and worked_days.SOCIALINSDED.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -contract.social_insurance_deductions</field>
            <field name="sequence" eval="70"/>
            <field name="note">Social Insurance Deductions</field>
        </record>
        <record id="hr_salary_rule_att_medical_insurance_deductions" model="hr.salary.rule">
            <field name="code">MEDICDED</field>
            <field name="name">medicalinsuductionsalded</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.MEDICDED and worked_days.MEDICDED.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -contract.medical_insurance_deductions</field>
            <field name="sequence" eval="70"/>
            <field name="note">Medical Insurance Deductions</field>
        </record>
        <record id="hr_salary_rule_att_fingerprint_deductions" model="hr.salary.rule">
            <field name="code">FINGDED</field>
            <field name="name">fingerprintdeductions</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.FINGDED and worked_days.FINGDED.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -contract.fingerprint_deductions</field>
            <field name="sequence" eval="70"/>
            <field name="note">Fingerprint Deductions</field>
        </record>
        <record id="hr_salary_rule_att_administrative_deductions" model="hr.salary.rule">
            <field name="code">ADMINDED</field>
            <field name="name">administrativedeductions</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.ADMINDED and worked_days.ADMINDED.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -contract.administrative_deductions</field>
            <field name="sequence" eval="70"/>
            <field name="note">Administrative Deductions</field>
        </record>
        <record id="hr_salary_rule_att_absence_without_permission_deductions" model="hr.salary.rule">
            <field name="code">ABSWIPERMDED</field>
            <field name="name">absencewithoutpermissiondeductions</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.ABSWIPERMDED and worked_days.ABSWIPERMDED.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -contract.absence_without_permission_deductions</field>
            <field name="sequence" eval="70"/>
            <field name="note">Absence Without Permission Deductions</field>
        </record>
        <record id="hr_salary_rule_att_absence_discount_without_credit_deductions" model="hr.salary.rule">
            <field name="code">ABSDISCDED</field>
            <field name="name">absencediscountwithoutcreditdeductions</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.ABSDISCDED and worked_days.ABSDISCDED.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -contract.absence_discount_without_credit_deductions</field>
            <field name="sequence" eval="70"/>
            <field name="note">Absence Discount Without Credit Deductions</field>
        </record>
        <record id="hr_salary_rule_att_loan_deductions" model="hr.salary.rule">
            <field name="code">LOANS</field>
            <field name="name">loanrequestdeduction</field>
            <field name="sequence" eval="112"/>
            <field name="category_id" ref="om_hr_payroll.DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result =(worked_days.LOANS and worked_days.LOANS.number_of_hours > 0) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result =-(worked_days.LOANS.number_of_hours)</field>
            <field name="sequence" eval="70"/>
            <field name="note">Loan request Deductions</field>
        </record>

        <!-- TODO Saber allowances salary rules #####################################################################################################-->
        <record id="hr_salary_rule_att_house_allowances" model="hr.salary.rule">
            <field name="code">HOUSALLOW</field>
            <field name="name">houseallowances</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.HOUSALLOW and worked_days.HOUSALLOW.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.house_allowances</field>
            <field name="sequence" eval="30"/>
            <field name="note">House Allowances</field>
        </record>
        <record id="hr_salary_rule_att_overtime_allowance" model="hr.salary.rule">
            <field name="code">OVERTIMEALLOW</field>
            <field name="name">overtimeallowance</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.OVERTIMEALLOW and worked_days.OVERTIMEALLOW.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.overtime_allowance</field>
            <field name="sequence" eval="30"/>
            <field name="note">Overtime Allowances</field>
        </record>
        <record id="hr_salary_rule_att_treatment_allowance" model="hr.salary.rule">
            <field name="code">TREATALLOW</field>
            <field name="name">treatmentallowance</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.TREATALLOW and worked_days.TREATALLOW.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.treatment_allowance</field>
            <field name="sequence" eval="30"/>
            <field name="note">Treatment Allowances</field>
        </record>
        <record id="hr_salary_rule_att_transport_allowances" model="hr.salary.rule">
            <field name="code">TRANSPORTALLOW</field>
            <field name="name">transportallowances</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.TRANSPORTALLOW and worked_days.TRANSPORTALLOW.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.transport_allowances</field>
            <field name="sequence" eval="30"/>
            <field name="note">Transport Allowances</field>
        </record>
        <record id="hr_salary_rule_att_living_allowances" model="hr.salary.rule">
            <field name="code">LIVINGALLOW</field>
            <field name="name">livingallowances</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.LIVINGALLOW and worked_days.LIVINGALLOW.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.living_allowances</field>
            <field name="sequence" eval="30"/>
            <field name="note">Living Allowances</field>
        </record>
        <record id="hr_salary_rule_att_telephone_allowance" model="hr.salary.rule">
            <field name="code">TELEPHONEALLOW</field>
            <field name="name">telephoneallowance</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.TELEPHONEALLOW and worked_days.TELEPHONEALLOW.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.telephone_allowance</field>
            <field name="sequence" eval="30"/>
            <field name="note">Telephone Allowances</field>
        </record>
        <record id="hr_salary_rule_att_motivation_allowance" model="hr.salary.rule">
            <field name="code">MOTIVATIONALLOW</field>
            <field name="name">motivationallowance</field>
            <field name="sequence" eval="113"/>
            <field name="category_id" ref="om_hr_payroll.ALW"/>
            <!--            <field name="struct_id"-->
            <!--                   ref="hr_attendance_sheet.structure_attendance_sheet"/>-->

            <field name="condition_select">python</field>
            <field name="condition_python">result = (worked_days.MOTIVATIONALLOW and worked_days.MOTIVATIONALLOW.number_of_hours > 0 ) or False
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = contract.motivation</field>
            <field name="sequence" eval="30"/>
            <field name="note">Motivation Allowances</field>
        </record>
        <!-- TODO #####################################################################################################-->


    </data>
    <data noupdate="1">
        <record id="resource_calendar_attendance_sheet"
                model="resource.calendar">
            <field name="name">Attendance Sheet Working Hours</field>
            <field name="company_id" ref="base.main_company"/>
            <field name="attendance_ids"
                   eval="[
                (0, 0, {'name': 'Monday', 'dayofweek': '0', 'hour_from': 8, 'hour_to': 16, 'day_period': 'morning'}),
                (0, 0, {'name': 'Tuesday', 'dayofweek': '1', 'hour_from': 8, 'hour_to': 16, 'day_period': 'morning'}),
                (0, 0, {'name': 'Wednesday', 'dayofweek': '2', 'hour_from': 8, 'hour_to': 16, 'day_period': 'morning'}),
                (0, 0, {'name': 'Thursday', 'dayofweek': '3', 'hour_from': 8, 'hour_to': 16, 'day_period': 'morning'}),
                (0, 0, {'name': 'Sunday', 'dayofweek': '6', 'hour_from': 8, 'hour_to': 16, 'day_period': 'morning'}),
            ]"
            />
        </record>
    </data>
</odoo>